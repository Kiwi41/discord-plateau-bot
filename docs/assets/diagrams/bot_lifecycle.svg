<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: bot_lifecycle Pages: 1 -->
<svg width="986pt" height="1072pt"
 viewBox="0.00 0.00 986.00 1071.85" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1067.85)">
<title>bot_lifecycle</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1067.85 982,-1067.85 982,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_init</title>
<polygon fill="#e3f2fd" stroke="black" points="682,-750.43 682,-994.43 872,-994.43 872,-750.43 682,-750.43"/>
<text text-anchor="middle" x="777" y="-979.23" font-family="Times,serif" font-size="14.00">🔧 Phase d&#39;initialisation</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_main</title>
<polygon fill="#f3e5f5" stroke="black" points="227,-466.21 227,-649.43 643,-649.43 643,-466.21 227,-466.21"/>
<text text-anchor="middle" x="435" y="-634.23" font-family="Times,serif" font-size="14.00">🔄 Fonctionnement principal</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_process</title>
<polygon fill="#e8f5e8" stroke="black" points="8,-8 8,-649.43 219,-649.43 219,-8 8,-8"/>
<text text-anchor="middle" x="113.5" y="-634.23" font-family="Times,serif" font-size="14.00">📋 Traitement événements</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_actions</title>
<polygon fill="#fff3e0" stroke="black" points="227,-20 227,-224 542,-224 542,-20 227,-20"/>
<text text-anchor="middle" x="384.5" y="-208.8" font-family="Times,serif" font-size="14.00">⚡ Actions du bot</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_error</title>
<polygon fill="#ffebee" stroke="black" points="582,-20 582,-362 748,-362 748,-20 582,-20"/>
<text text-anchor="middle" x="665" y="-346.8" font-family="Times,serif" font-size="14.00">🛠️ Gestion d&#39;erreurs</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#4caf50" stroke="black" cx="807" cy="-1042.64" rx="60.21" ry="21.43"/>
<text text-anchor="middle" x="807" y="-1045.64" font-family="Arial" font-size="10.00" fill="white">🚀 Démarrage</text>
<text text-anchor="middle" x="807" y="-1034.64" font-family="Arial" font-size="10.00" fill="white">node index.js</text>
</g>
<!-- config -->
<g id="node2" class="node">
<title>config</title>
<polygon fill="#bbdefb" stroke="black" points="862.5,-940.43 751.5,-940.43 751.5,-904.43 862.5,-904.43 862.5,-940.43"/>
<text text-anchor="middle" x="807" y="-925.43" font-family="Arial" font-size="10.00">⚙️ Chargement config</text>
<text text-anchor="middle" x="807" y="-914.43" font-family="Arial" font-size="10.00">(.env, variables)</text>
</g>
<!-- start&#45;&gt;config -->
<g id="edge1" class="edge">
<title>start&#45;&gt;config</title>
<path fill="none" stroke="black" d="M807,-1021.32C807,-1001.89 807,-972.46 807,-950.94"/>
<polygon fill="black" stroke="black" points="810.5,-950.79 807,-940.79 803.5,-950.79 810.5,-950.79"/>
</g>
<!-- discord_connect -->
<g id="node3" class="node">
<title>discord_connect</title>
<polygon fill="#bbdefb" stroke="black" points="864,-867.43 744,-867.43 744,-831.43 864,-831.43 864,-867.43"/>
<text text-anchor="middle" x="804" y="-852.43" font-family="Arial" font-size="10.00">🤖 Connexion Discord</text>
<text text-anchor="middle" x="804" y="-841.43" font-family="Arial" font-size="10.00">client.login(token)</text>
</g>
<!-- config&#45;&gt;discord_connect -->
<g id="edge2" class="edge">
<title>config&#45;&gt;discord_connect</title>
<path fill="none" stroke="black" d="M806.27,-904.24C805.93,-896.22 805.52,-886.47 805.14,-877.5"/>
<polygon fill="black" stroke="black" points="808.64,-877.3 804.72,-867.46 801.64,-877.59 808.64,-877.3"/>
</g>
<!-- shutdown -->
<g id="node23" class="node">
<title>shutdown</title>
<ellipse fill="#f44336" stroke="black" cx="871" cy="-492.21" rx="89.19" ry="21.43"/>
<text text-anchor="middle" x="871" y="-495.21" font-family="Arial" font-size="10.00" fill="white">🛑 Arrêt du bot</text>
<text text-anchor="middle" x="871" y="-484.21" font-family="Arial" font-size="10.00" fill="white">(SIGTERM, erreur fatale)</text>
</g>
<!-- config&#45;&gt;shutdown -->
<g id="edge33" class="edge">
<title>config&#45;&gt;shutdown</title>
<path fill="none" stroke="red" d="M862.78,-907.11C889.59,-896.53 916,-878.88 916,-850.43 916,-850.43 916,-850.43 916,-576.43 916,-556.52 905.91,-536.81 895.29,-521.57"/>
<polygon fill="red" stroke="red" points="897.81,-519.1 889.04,-513.15 892.19,-523.27 897.81,-519.1"/>
<text text-anchor="middle" x="947" y="-733.23" font-family="Arial" font-size="9.00">Config invalide</text>
</g>
<!-- permissions -->
<g id="node4" class="node">
<title>permissions</title>
<polygon fill="#bbdefb" stroke="black" points="776,-794.43 690,-794.43 690,-758.43 776,-758.43 776,-794.43"/>
<text text-anchor="middle" x="733" y="-779.43" font-family="Arial" font-size="10.00">🔐 Vérification</text>
<text text-anchor="middle" x="733" y="-768.43" font-family="Arial" font-size="10.00">permissions</text>
</g>
<!-- discord_connect&#45;&gt;permissions -->
<g id="edge3" class="edge">
<title>discord_connect&#45;&gt;permissions</title>
<path fill="none" stroke="black" d="M786.81,-831.24C777.92,-822.34 766.91,-811.34 757.17,-801.6"/>
<polygon fill="black" stroke="black" points="759.57,-799.05 750.03,-794.46 754.63,-804 759.57,-799.05"/>
</g>
<!-- discord_connect&#45;&gt;shutdown -->
<g id="edge34" class="edge">
<title>discord_connect&#45;&gt;shutdown</title>
<path fill="none" stroke="red" d="M804,-831.21C804,-816.83 804,-795.79 804,-777.43 804,-777.43 804,-777.43 804,-576.43 804,-553.79 819.22,-533.83 835.16,-519.13"/>
<polygon fill="red" stroke="red" points="837.71,-521.55 842.97,-512.35 833.13,-516.26 837.71,-521.55"/>
<text text-anchor="middle" x="846" y="-692.23" font-family="Arial" font-size="9.00">Connexion échouée</text>
</g>
<!-- ready -->
<g id="node5" class="node">
<title>ready</title>
<polygon fill="#c8e6c9" stroke="black" points="734,-712.43 636,-712.43 636,-676.43 734,-676.43 734,-712.43"/>
<text text-anchor="middle" x="685" y="-697.43" font-family="Arial" font-size="10.00">✅ Bot connecté</text>
<text text-anchor="middle" x="685" y="-686.43" font-family="Arial" font-size="10.00">Événement &#39;ready&#39;</text>
</g>
<!-- permissions&#45;&gt;ready -->
<g id="edge4" class="edge">
<title>permissions&#45;&gt;ready</title>
<path fill="none" stroke="black" d="M722.58,-758.07C716.12,-747.3 707.71,-733.27 700.48,-721.22"/>
<polygon fill="black" stroke="black" points="703.38,-719.25 695.23,-712.48 697.37,-722.85 703.38,-719.25"/>
</g>
<!-- listen -->
<g id="node6" class="node">
<title>listen</title>
<polygon fill="#e1bee7" stroke="black" points="635.5,-595.43 528.5,-595.43 528.5,-559.43 635.5,-559.43 635.5,-595.43"/>
<text text-anchor="middle" x="582" y="-580.43" font-family="Arial" font-size="10.00">👂 Écoute des</text>
<text text-anchor="middle" x="582" y="-569.43" font-family="Arial" font-size="10.00">évenements Discord</text>
</g>
<!-- ready&#45;&gt;listen -->
<g id="edge5" class="edge">
<title>ready&#45;&gt;listen</title>
<path fill="none" stroke="black" d="M669.36,-675.96C652.01,-656.6 623.9,-625.21 604.27,-603.29"/>
<polygon fill="black" stroke="black" points="606.73,-600.79 597.45,-595.68 601.52,-605.46 606.73,-600.79"/>
</g>
<!-- commands -->
<g id="node7" class="node">
<title>commands</title>
<polygon fill="#e1bee7" stroke="black" points="634.5,-510.21 469.5,-510.21 469.5,-474.21 634.5,-474.21 634.5,-510.21"/>
<text text-anchor="middle" x="552" y="-495.21" font-family="Arial" font-size="10.00">⌨️ Traitement</text>
<text text-anchor="middle" x="552" y="-484.21" font-family="Arial" font-size="10.00">commandes (!create&#45;plateau&#45;post)</text>
</g>
<!-- listen&#45;&gt;commands -->
<g id="edge6" class="edge">
<title>listen&#45;&gt;commands</title>
<path fill="none" stroke="black" d="M528.47,-568.57C497.35,-562.79 462.45,-553.78 453,-541.43 444.36,-530.12 449.11,-521.32 460.2,-514.51"/>
<polygon fill="black" stroke="black" points="461.95,-517.55 469.29,-509.9 458.79,-511.3 461.95,-517.55"/>
<text text-anchor="middle" x="490" y="-534.23" font-family="Arial" font-size="9.00">Commande reçue</text>
</g>
<!-- cron_trigger -->
<g id="node8" class="node">
<title>cron_trigger</title>
<polygon fill="#e1bee7" stroke="black" points="344.5,-510.21 235.5,-510.21 235.5,-474.21 344.5,-474.21 344.5,-510.21"/>
<text text-anchor="middle" x="290" y="-495.21" font-family="Arial" font-size="10.00">⏰ Déclencheur cron</text>
<text text-anchor="middle" x="290" y="-484.21" font-family="Arial" font-size="10.00">(samedi 3h00)</text>
</g>
<!-- listen&#45;&gt;cron_trigger -->
<g id="edge7" class="edge">
<title>listen&#45;&gt;cron_trigger</title>
<path fill="none" stroke="black" d="M528.38,-572.12C486.52,-567.6 427.37,-558.64 378,-541.43 359.57,-535 340.43,-524.97 324.71,-515.71"/>
<polygon fill="black" stroke="black" points="326.26,-512.56 315.89,-510.39 322.64,-518.55 326.26,-512.56"/>
<text text-anchor="middle" x="411" y="-534.23" font-family="Arial" font-size="9.00">Cron déclenché</text>
</g>
<!-- sleep -->
<g id="node22" class="node">
<title>sleep</title>
<polygon fill="#f5f5f5" stroke="black" points="763.5,-510.21 652.5,-510.21 652.5,-474.21 763.5,-474.21 763.5,-510.21"/>
<text text-anchor="middle" x="708" y="-495.21" font-family="Arial" font-size="10.00">😴 Attente prochaine</text>
<text text-anchor="middle" x="708" y="-484.21" font-family="Arial" font-size="10.00">activité</text>
</g>
<!-- listen&#45;&gt;sleep -->
<g id="edge8" class="edge">
<title>listen&#45;&gt;sleep</title>
<path fill="none" stroke="black" d="M598.23,-559.34C607.33,-550.35 619.19,-539.53 631,-531.43 639.67,-525.47 649.4,-519.9 658.95,-514.95"/>
<polygon fill="black" stroke="black" points="660.65,-518.02 668.02,-510.41 657.51,-511.76 660.65,-518.02"/>
<text text-anchor="middle" x="662.5" y="-534.23" font-family="Arial" font-size="9.00">Aucune activité</text>
</g>
<!-- listen&#45;&gt;shutdown -->
<g id="edge32" class="edge">
<title>listen&#45;&gt;shutdown</title>
<path fill="none" stroke="red" d="M635.51,-562.51C658.77,-556.31 686.31,-548.75 711,-541.43 724.88,-537.31 728.17,-535.7 742,-531.43 763,-524.93 785.99,-518.05 806.67,-511.94"/>
<polygon fill="red" stroke="red" points="807.7,-515.28 816.3,-509.1 805.72,-508.57 807.7,-515.28"/>
<text text-anchor="middle" x="766" y="-534.23" font-family="Arial" font-size="9.00">Signal arrêt</text>
</g>
<!-- fetch_events -->
<g id="node9" class="node">
<title>fetch_events</title>
<polygon fill="#c8e6c9" stroke="black" points="211.5,-434 104.5,-434 104.5,-398 211.5,-398 211.5,-434"/>
<text text-anchor="middle" x="158" y="-419" font-family="Arial" font-size="10.00">🔍 Récupération</text>
<text text-anchor="middle" x="158" y="-408" font-family="Arial" font-size="10.00">événements Discord</text>
</g>
<!-- commands&#45;&gt;fetch_events -->
<g id="edge9" class="edge">
<title>commands&#45;&gt;fetch_events</title>
<path fill="none" stroke="black" d="M493.49,-474.15C482.73,-471.29 471.57,-468.52 461,-466.21 379,-448.34 283.22,-433.84 221.65,-425.32"/>
<polygon fill="black" stroke="black" points="222.08,-421.84 211.69,-423.95 221.12,-428.78 222.08,-421.84"/>
</g>
<!-- cron_trigger&#45;&gt;cron_trigger -->
<g id="edge36" class="edge">
<title>cron_trigger&#45;&gt;cron_trigger</title>
<path fill="none" stroke="gray" stroke-dasharray="1,5" d="M344.7,-499C355.12,-498.19 362.5,-495.92 362.5,-492.21 362.5,-489.89 359.62,-488.14 354.91,-486.95"/>
<polygon fill="gray" stroke="gray" points="355.1,-483.44 344.7,-485.43 354.07,-490.37 355.1,-483.44"/>
<text text-anchor="middle" x="407" y="-490.01" font-family="Arial" font-size="9.00">Chaque samedi 3h00</text>
</g>
<!-- find_fridays -->
<g id="node10" class="node">
<title>find_fridays</title>
<polygon fill="#c8e6c9" stroke="black" points="193,-595.43 75,-595.43 75,-559.43 193,-559.43 193,-595.43"/>
<text text-anchor="middle" x="134" y="-580.43" font-family="Arial" font-size="10.00">📅 Calcul 4 prochains</text>
<text text-anchor="middle" x="134" y="-569.43" font-family="Arial" font-size="10.00">vendredis</text>
</g>
<!-- cron_trigger&#45;&gt;find_fridays -->
<g id="edge10" class="edge">
<title>cron_trigger&#45;&gt;find_fridays</title>
<path fill="none" stroke="black" d="M261.89,-510.29C245.96,-519.77 225.56,-531.61 207,-541.43 198.43,-545.96 189.17,-550.6 180.22,-554.95"/>
<polygon fill="black" stroke="black" points="178.54,-551.87 171.05,-559.36 181.57,-558.18 178.54,-551.87"/>
</g>
<!-- event_found -->
<g id="node12" class="node">
<title>event_found</title>
<polygon fill="#ffeb3b" stroke="black" points="145,-320 79,-290 145,-260 211,-290 145,-320"/>
<text text-anchor="middle" x="145" y="-293" font-family="Arial" font-size="10.00">Événement</text>
<text text-anchor="middle" x="145" y="-282" font-family="Arial" font-size="10.00">trouvé ?</text>
</g>
<!-- fetch_events&#45;&gt;event_found -->
<g id="edge13" class="edge">
<title>fetch_events&#45;&gt;event_found</title>
<path fill="none" stroke="black" d="M156.19,-397.76C154.34,-380.1 151.4,-352.07 149,-329.16"/>
<polygon fill="black" stroke="black" points="152.46,-328.63 147.94,-319.05 145.5,-329.36 152.46,-328.63"/>
</g>
<!-- retry -->
<g id="node19" class="node">
<title>retry</title>
<polygon fill="#ffcdd2" stroke="black" points="675.5,-308 590.5,-308 590.5,-272 675.5,-272 675.5,-308"/>
<text text-anchor="middle" x="633" y="-293" font-family="Arial" font-size="10.00">🔄 Retry avec</text>
<text text-anchor="middle" x="633" y="-282" font-family="Arial" font-size="10.00">délai progressif</text>
</g>
<!-- fetch_events&#45;&gt;retry -->
<g id="edge25" class="edge">
<title>fetch_events&#45;&gt;retry</title>
<path fill="none" stroke="red" d="M211.9,-407.66C252.4,-401.63 309.08,-392.13 358,-380 436.8,-360.46 525.83,-330.07 580.69,-310.35"/>
<polygon fill="red" stroke="red" points="581.98,-313.61 590.2,-306.92 579.6,-307.02 581.98,-313.61"/>
<text text-anchor="middle" x="408" y="-372.8" font-family="Arial" font-size="9.00">❌ Erreur</text>
</g>
<!-- process_friday -->
<g id="node11" class="node">
<title>process_friday</title>
<polygon fill="#c8e6c9" stroke="black" points="123.5,-510.21 40.5,-510.21 40.5,-474.21 123.5,-474.21 123.5,-510.21"/>
<text text-anchor="middle" x="82" y="-495.21" font-family="Arial" font-size="10.00">🎯 Traitement</text>
<text text-anchor="middle" x="82" y="-484.21" font-family="Arial" font-size="10.00">un vendredi</text>
</g>
<!-- find_fridays&#45;&gt;process_friday -->
<g id="edge11" class="edge">
<title>find_fridays&#45;&gt;process_friday</title>
<path fill="none" stroke="black" d="M123.23,-559.18C115.97,-547.58 106.28,-532.07 98.12,-519.01"/>
<polygon fill="black" stroke="black" points="101.03,-517.06 92.76,-510.43 95.09,-520.77 101.03,-517.06"/>
<text text-anchor="middle" x="157.5" y="-534.23" font-family="Arial" font-size="9.00">Pour chaque vendredi</text>
</g>
<!-- process_friday&#45;&gt;fetch_events -->
<g id="edge12" class="edge">
<title>process_friday&#45;&gt;fetch_events</title>
<path fill="none" stroke="black" d="M99.63,-474C109.6,-464.26 122.24,-451.92 133.2,-441.22"/>
<polygon fill="black" stroke="black" points="135.76,-443.61 140.47,-434.12 130.87,-438.6 135.76,-443.61"/>
</g>
<!-- process_friday&#45;&gt;process_friday -->
<g id="edge35" class="edge">
<title>process_friday&#45;&gt;process_friday</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M123.71,-499.23C133.91,-498.71 141.5,-496.37 141.5,-492.21 141.5,-489.62 138.53,-487.73 133.82,-486.55"/>
<polygon fill="black" stroke="black" points="134.08,-483.06 123.71,-485.2 133.15,-489.99 134.08,-483.06"/>
<text text-anchor="middle" x="176" y="-490.01" font-family="Arial" font-size="9.00">Vendredi suivant</text>
</g>
<!-- post_exists -->
<g id="node13" class="node">
<title>post_exists</title>
<polygon fill="#ffeb3b" stroke="black" points="150,-182 91,-152 150,-122 209,-152 150,-182"/>
<text text-anchor="middle" x="150" y="-155" font-family="Arial" font-size="10.00">Post</text>
<text text-anchor="middle" x="150" y="-144" font-family="Arial" font-size="10.00">existant ?</text>
</g>
<!-- event_found&#45;&gt;post_exists -->
<g id="edge14" class="edge">
<title>event_found&#45;&gt;post_exists</title>
<path fill="none" stroke="black" d="M146.06,-260.16C146.79,-240.32 147.77,-213.75 148.57,-192.02"/>
<polygon fill="black" stroke="black" points="152.07,-191.92 148.94,-181.8 145.08,-191.67 152.07,-191.92"/>
<text text-anchor="middle" x="162" y="-234.8" font-family="Arial" font-size="9.00">✅ Oui</text>
</g>
<!-- default_post -->
<g id="node17" class="node">
<title>default_post</title>
<polygon fill="#ffcc02" stroke="black" points="330.5,-170 235.5,-170 235.5,-134 330.5,-134 330.5,-170"/>
<text text-anchor="middle" x="283" y="-155" font-family="Arial" font-size="10.00">📝 Post avec</text>
<text text-anchor="middle" x="283" y="-144" font-family="Arial" font-size="10.00">valeurs par défaut</text>
</g>
<!-- event_found&#45;&gt;default_post -->
<g id="edge15" class="edge">
<title>event_found&#45;&gt;default_post</title>
<path fill="none" stroke="black" d="M169.14,-270.68C185.04,-258.18 205.99,-240.89 223,-224 237.41,-209.69 252.16,-192.28 263.43,-178.29"/>
<polygon fill="black" stroke="black" points="266.47,-180.08 269.96,-170.07 260.99,-175.72 266.47,-180.08"/>
<text text-anchor="middle" x="228.5" y="-234.8" font-family="Arial" font-size="9.00">❌ Non</text>
</g>
<!-- needs_update -->
<g id="node14" class="node">
<title>needs_update</title>
<polygon fill="#ffeb3b" stroke="black" points="139,-76 67,-46 139,-16 211,-46 139,-76"/>
<text text-anchor="middle" x="139" y="-49" font-family="Arial" font-size="10.00">Mise à jour</text>
<text text-anchor="middle" x="139" y="-38" font-family="Arial" font-size="10.00">nécessaire ?</text>
</g>
<!-- post_exists&#45;&gt;needs_update -->
<g id="edge16" class="edge">
<title>post_exists&#45;&gt;needs_update</title>
<path fill="none" stroke="black" d="M147.08,-123.4C145.85,-111.74 144.39,-97.97 143.06,-85.35"/>
<polygon fill="black" stroke="black" points="146.5,-84.66 141.97,-75.09 139.54,-85.4 146.5,-84.66"/>
<text text-anchor="middle" x="159" y="-96.8" font-family="Arial" font-size="9.00">✅ Oui</text>
</g>
<!-- create_post -->
<g id="node15" class="node">
<title>create_post</title>
<polygon fill="#ffcc02" stroke="black" points="534.5,-170 459.5,-170 459.5,-134 534.5,-134 534.5,-170"/>
<text text-anchor="middle" x="497" y="-155" font-family="Arial" font-size="10.00">📝 Créer</text>
<text text-anchor="middle" x="497" y="-144" font-family="Arial" font-size="10.00">nouveau post</text>
</g>
<!-- post_exists&#45;&gt;create_post -->
<g id="edge17" class="edge">
<title>post_exists&#45;&gt;create_post</title>
<path fill="none" stroke="black" d="M165.75,-174.06C178.93,-190.47 199.34,-211.59 223,-221 269.87,-239.65 405.41,-244.58 450,-221 466.66,-212.19 478.52,-194.53 486.16,-179.28"/>
<polygon fill="black" stroke="black" points="489.34,-180.75 490.38,-170.2 482.99,-177.8 489.34,-180.75"/>
<text text-anchor="middle" x="382" y="-234.8" font-family="Arial" font-size="9.00">❌ Non</text>
</g>
<!-- update_post -->
<g id="node16" class="node">
<title>update_post</title>
<polygon fill="#ffcc02" stroke="black" points="441,-170 349,-170 349,-134 441,-134 441,-170"/>
<text text-anchor="middle" x="395" y="-155" font-family="Arial" font-size="10.00">🔄 Mettre à jour</text>
<text text-anchor="middle" x="395" y="-144" font-family="Arial" font-size="10.00">post existant</text>
</g>
<!-- needs_update&#45;&gt;update_post -->
<g id="edge18" class="edge">
<title>needs_update&#45;&gt;update_post</title>
<path fill="none" stroke="black" d="M176.86,-60.47C226.3,-78.18 310.09,-108.6 340,-122 344.99,-124.23 350.15,-126.72 355.23,-129.27"/>
<polygon fill="black" stroke="black" points="353.73,-132.43 364.22,-133.88 356.92,-126.2 353.73,-132.43"/>
<text text-anchor="middle" x="306" y="-96.8" font-family="Arial" font-size="9.00">✅ Oui</text>
</g>
<!-- log_action -->
<g id="node18" class="node">
<title>log_action</title>
<polygon fill="#ffcc02" stroke="black" points="439,-64 351,-64 351,-28 439,-28 439,-64"/>
<text text-anchor="middle" x="395" y="-49" font-family="Arial" font-size="10.00">📊 Log résultat</text>
<text text-anchor="middle" x="395" y="-38" font-family="Arial" font-size="10.00">et statistiques</text>
</g>
<!-- needs_update&#45;&gt;log_action -->
<g id="edge19" class="edge">
<title>needs_update&#45;&gt;log_action</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M211.33,-46C252.42,-46 303.01,-46 340.68,-46"/>
<polygon fill="black" stroke="black" points="340.95,-49.5 350.95,-46 340.95,-42.5 340.95,-49.5"/>
<text text-anchor="middle" x="281" y="-51.8" font-family="Arial" font-size="9.00">❌ Non</text>
</g>
<!-- create_post&#45;&gt;log_action -->
<g id="edge20" class="edge">
<title>create_post&#45;&gt;log_action</title>
<path fill="none" stroke="black" d="M480.16,-133.83C463.47,-116.82 437.76,-90.6 418.96,-71.43"/>
<polygon fill="black" stroke="black" points="421.37,-68.89 411.87,-64.2 416.37,-73.79 421.37,-68.89"/>
</g>
<!-- create_post&#45;&gt;retry -->
<g id="edge26" class="edge">
<title>create_post&#45;&gt;retry</title>
<path fill="none" stroke="red" d="M514.08,-170.08C537.92,-193.92 581.29,-237.29 608.54,-264.54"/>
<polygon fill="red" stroke="red" points="606.23,-267.18 615.78,-271.78 611.18,-262.23 606.23,-267.18"/>
<text text-anchor="middle" x="605" y="-234.8" font-family="Arial" font-size="9.00">❌ Erreur</text>
</g>
<!-- update_post&#45;&gt;log_action -->
<g id="edge21" class="edge">
<title>update_post&#45;&gt;log_action</title>
<path fill="none" stroke="black" d="M395,-133.83C395,-117.64 395,-93.13 395,-74.27"/>
<polygon fill="black" stroke="black" points="398.5,-74.2 395,-64.2 391.5,-74.2 398.5,-74.2"/>
</g>
<!-- update_post&#45;&gt;retry -->
<g id="edge27" class="edge">
<title>update_post&#45;&gt;retry</title>
<path fill="none" stroke="red" d="M404.67,-170.19C414.46,-186.17 430.98,-209.62 451,-224 489.9,-251.94 542,-268.93 580.49,-278.5"/>
<polygon fill="red" stroke="red" points="579.93,-281.96 590.47,-280.89 581.56,-275.15 579.93,-281.96"/>
<text text-anchor="middle" x="497" y="-234.8" font-family="Arial" font-size="9.00">❌ Erreur</text>
</g>
<!-- default_post&#45;&gt;log_action -->
<g id="edge22" class="edge">
<title>default_post&#45;&gt;log_action</title>
<path fill="none" stroke="black" d="M301.49,-133.83C319.9,-116.74 348.3,-90.37 368.97,-71.17"/>
<polygon fill="black" stroke="black" points="371.53,-73.57 376.48,-64.2 366.77,-68.44 371.53,-73.57"/>
</g>
<!-- log_action&#45;&gt;sleep -->
<g id="edge23" class="edge">
<title>log_action&#45;&gt;sleep</title>
<path fill="none" stroke="black" d="M439.18,-57.3C473.42,-67.69 519.09,-87.3 544,-122 606.82,-209.52 529.73,-265.69 578,-362 600.29,-406.47 643.82,-444.8 674.35,-467.92"/>
<polygon fill="black" stroke="black" points="672.47,-470.88 682.59,-474.03 676.64,-465.26 672.47,-470.88"/>
</g>
<!-- retry&#45;&gt;fetch_events -->
<g id="edge31" class="edge">
<title>retry&#45;&gt;fetch_events</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M590.25,-300.77C528.26,-315.09 409.9,-343.01 310,-370 280.78,-377.89 248.61,-387.31 221.41,-395.49"/>
<polygon fill="green" stroke="green" points="220.2,-392.2 211.64,-398.44 222.22,-398.9 220.2,-392.2"/>
<text text-anchor="middle" x="332" y="-372.8" font-family="Arial" font-size="9.00">✅ Succès</text>
</g>
<!-- log_error -->
<g id="node20" class="node">
<title>log_error</title>
<polygon fill="#ffcdd2" stroke="black" points="680,-170 600,-170 600,-134 680,-134 680,-170"/>
<text text-anchor="middle" x="640" y="-155" font-family="Arial" font-size="10.00">📝 Log erreur</text>
<text text-anchor="middle" x="640" y="-144" font-family="Arial" font-size="10.00">et context</text>
</g>
<!-- retry&#45;&gt;log_error -->
<g id="edge28" class="edge">
<title>retry&#45;&gt;log_error</title>
<path fill="none" stroke="black" d="M634.19,-271.59C634.77,-262.74 635.47,-251.8 636,-242 637.13,-221.28 638.17,-197.84 638.91,-180.21"/>
<polygon fill="black" stroke="black" points="642.41,-180.2 639.33,-170.07 635.42,-179.91 642.41,-180.2"/>
</g>
<!-- continue_loop -->
<g id="node21" class="node">
<title>continue_loop</title>
<polygon fill="#ffcdd2" stroke="black" points="712.5,-64 623.5,-64 623.5,-28 712.5,-28 712.5,-64"/>
<text text-anchor="middle" x="668" y="-49" font-family="Arial" font-size="10.00">➡️ Continuer</text>
<text text-anchor="middle" x="668" y="-38" font-family="Arial" font-size="10.00">boucle principale</text>
</g>
<!-- log_error&#45;&gt;continue_loop -->
<g id="edge29" class="edge">
<title>log_error&#45;&gt;continue_loop</title>
<path fill="none" stroke="black" d="M644.62,-133.83C649,-117.57 655.64,-92.9 660.73,-74.01"/>
<polygon fill="black" stroke="black" points="664.15,-74.77 663.37,-64.2 657.39,-72.95 664.15,-74.77"/>
</g>
<!-- continue_loop&#45;&gt;sleep -->
<g id="edge30" class="edge">
<title>continue_loop&#45;&gt;sleep</title>
<path fill="none" stroke="black" d="M679.14,-64.26C690.98,-84.28 708,-118.69 708,-151 708,-417 708,-417 708,-417 708,-432.61 708,-450.06 708,-464.12"/>
<polygon fill="black" stroke="black" points="704.5,-464.12 708,-474.12 711.5,-464.12 704.5,-464.12"/>
</g>
<!-- sleep&#45;&gt;listen -->
<g id="edge24" class="edge">
<title>sleep&#45;&gt;listen</title>
<path fill="none" stroke="black" d="M707,-510.41C705.52,-520.65 702.05,-533.21 694,-541.43 681.01,-554.69 663.07,-562.94 645.36,-568.07"/>
<polygon fill="black" stroke="black" points="644.38,-564.71 635.58,-570.61 646.14,-571.49 644.38,-564.71"/>
</g>
<!-- sleep&#45;&gt;cron_trigger -->
<g id="edge37" class="edge">
<title>sleep&#45;&gt;cron_trigger</title>
<path fill="none" stroke="gray" stroke-dasharray="1,5" d="M674.98,-510.37C655.77,-519.89 630.73,-530.56 607,-535.43 573.91,-542.21 564.64,-538.42 531,-535.43 470.72,-530.06 402.95,-517.3 354.66,-507.03"/>
<polygon fill="gray" stroke="gray" points="355.18,-503.56 344.66,-504.88 353.7,-510.4 355.18,-503.56"/>
<text text-anchor="middle" x="569" y="-534.23" font-family="Arial" font-size="9.00">Réveil programmé</text>
</g>
</g>
</svg>
